;; gorilla-repl.fileformat = 1

;; **
;;; # Gaussian unknown mean
;; **

;; **
;;; Import the minimum required libraries to run define queries, compile them, and run the inference using compiled artifacts.
;; **

;; @@
(ns worksheets.gaussian
  (:require [anglican.runtime :refer :all]
            [anglican.emit :refer [defquery]]
            [anglican.stat :refer [empirical-distribution collect-results]]
            anglican.infcomp.csis
            anglican.importance
            [anglican.infcomp.network :refer :all]
            [anglican.inference :refer [infer]])
  (:use [gorilla-plot core]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; **
;;; Define a Gaussian unknown mean model
;; **

;; @@
(defquery gaussian [observations]
  (let [mean (sample "mean" (normal 1 (sqrt 5.0)))
        likelihood (normal mean (sqrt 2.0))]
    (map (fn [obs]
              (observe likelihood obs))
         observations)    
    mean))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;worksheets.gaussian/gaussian</span>","value":"#'worksheets.gaussian/gaussian"}
;; <=

;; **
;;; ## Inference Compilation
;; **

;; **
;;; Specify a function `combine-observes-fn` that combines observes from a sample in a form suitable for Torch:
;; **

;; @@
(defn combine-observes-fn [observes]
  (vec (map :value observes)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;worksheets.gaussian/combine-observes-fn</span>","value":"#'worksheets.gaussian/combine-observes-fn"}
;; <=

;; **
;;; In order to write this function, you'll need to look at how a typical `observes` object from your query looks like:
;; **

;; @@
(sample-observes-from-prior gaussian [[1 2]])
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:time-index</span>","value":":time-index"},{"type":"html","content":"<span class='clj-unkown'>0</span>","value":"0"}],"value":"[:time-index 0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:observe-address</span>","value":":observe-address"},{"type":"html","content":"<span class='clj-symbol'>O26717</span>","value":"O26717"}],"value":"[:observe-address O26717]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:observe-instance</span>","value":":observe-instance"},{"type":"html","content":"<span class='clj-unkown'>0</span>","value":"0"}],"value":"[:observe-instance 0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:value</span>","value":":value"},{"type":"html","content":"<span class='clj-double'>1.1710617820992195</span>","value":"1.1710617820992195"}],"value":"[:value 1.1710617820992195]"}],"value":"{:time-index 0, :observe-address O26717, :observe-instance 0, :value 1.1710617820992195}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:time-index</span>","value":":time-index"},{"type":"html","content":"<span class='clj-unkown'>1</span>","value":"1"}],"value":"[:time-index 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:observe-address</span>","value":":observe-address"},{"type":"html","content":"<span class='clj-symbol'>O26717</span>","value":"O26717"}],"value":"[:observe-address O26717]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:observe-instance</span>","value":":observe-instance"},{"type":"html","content":"<span class='clj-unkown'>1</span>","value":"1"}],"value":"[:observe-instance 1]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:value</span>","value":":value"},{"type":"html","content":"<span class='clj-double'>2.5678237488327404</span>","value":"2.5678237488327404"}],"value":"[:value 2.5678237488327404]"}],"value":"{:time-index 1, :observe-address O26717, :observe-instance 1, :value 2.5678237488327404}"}],"value":"[{:time-index 0, :observe-address O26717, :observe-instance 0, :value 1.1710617820992195} {:time-index 1, :observe-address O26717, :observe-instance 1, :value 2.5678237488327404}]"}
;; <=

;; @@
(combine-observes-fn (sample-observes-from-prior gaussian [[1 2]]))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-double'>0.19593890936259314</span>","value":"0.19593890936259314"},{"type":"html","content":"<span class='clj-double'>-0.06512045028448654</span>","value":"-0.06512045028448654"}],"value":"[0.19593890936259314 -0.06512045028448654]"}
;; <=

;; **
;;; Compile our query
;; **

;; @@
(def torch-connection (start-torch-connection gaussian [[1]] combine-observes-fn))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;worksheets.gaussian/torch-connection</span>","value":"#'worksheets.gaussian/torch-connection"}
;; <=

;; **
;;; Then run the following to train the neural network:
;;; 
;;; `python -m infcomp.compile`
;; **

;; @@
(stop-torch-connection torch-connection)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-string'>&quot;Torch connection terminated.&quot;</span>","value":"\"Torch connection terminated.\""}
;; <=

;; **
;;; ## Inference
;; **

;; **
;;; First, run the inference server from torch-infcomp:
;;; 
;;; `python -m infcomp.infer`
;;; 
;;; Then run the query, specifying number of particles:
;; **

;; @@
(def num-particles 500)
(def csis-states (take num-particles (infer :csis gaussian [[9 8]])))
(list-plot (vec (empirical-distribution (collect-results csis-states))))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"data":[{"name":"0a75870a-963d-454a-b349-c739e137f8b2","values":[{"x":6.818205548153194,"y":0.003279116662989808},{"x":4.7557891198551205,"y":9.502589022887695E-5},{"x":5.087045175658291,"y":1.9838152385372065E-4},{"x":8.621829955236137,"y":0.009492057680788465},{"x":5.3025123537900685,"y":3.0938699104865377E-4},{"x":4.901038342981118,"y":1.3226008655052953E-4},{"x":5.594216679506156,"y":5.408155562702783E-4},{"x":5.415909483506798,"y":3.866795861489755E-4},{"x":5.181908475651573,"y":2.420597898648759E-4},{"x":6.414902967126832,"y":0.001994276552405978},{"x":5.042014194964655,"y":1.8016876551046573E-4},{"x":3.9796946621891935,"y":1.3183977279567137E-5},{"x":4.215488182317593,"y":2.4934551012664714E-5},{"x":5.999183849965798,"y":0.0010815134968574299},{"x":6.5789171008033085,"y":0.002469380258617282},{"x":5.555571571573217,"y":5.036807030698057E-4},{"x":4.46333767894554,"y":4.7045881342307337E-5},{"x":6.595728842209843,"y":0.00252182701113685},{"x":5.941247164480236,"y":9.851873543161417E-4},{"x":4.501620357240007,"y":5.172750149502857E-5},{"x":5.521593535494131,"y":4.7280256693790247E-4},{"x":4.307742605601391,"y":3.171380615581583E-5},{"x":7.302519562218867,"y":0.005255961563277085},{"x":6.1042687257655395,"y":0.0012745121025418177},{"x":7.124384487153235,"y":0.004489512443896054},{"x":6.75038534819328,"y":0.0030361342238250104},{"x":6.417884034704578,"y":0.0020023175143461607},{"x":7.1912169142546665,"y":0.004773353514537897},{"x":6.649357187218371,"y":0.0026937190139516244},{"x":7.030317439281172,"y":0.004100225887101007},{"x":5.300402934152086,"y":3.0808431515464226E-4},{"x":4.806295431650771,"y":1.0675209376184061E-4},{"x":6.96445230952295,"y":0.0038361160022849566},{"x":6.67515653074028,"y":0.0027788767819719095},{"x":4.349871745309008,"y":3.533687288930333E-5},{"x":5.587022992073342,"y":5.337366483624418E-4},{"x":5.9278808734713415,"y":9.639433476708608E-4},{"x":6.848921650455858,"y":0.0033924755954940016},{"x":4.9150901384520145,"y":1.3646968987317566E-4},{"x":6.576300627324602,"y":0.002461279948608193},{"x":8.4948834728034,"y":0.009372052606902073},{"x":5.64282199562899,"y":5.907017299162373E-4},{"x":7.121298084124468,"y":0.004476538190801817},{"x":6.43551458171864,"y":0.0020503230774571416},{"x":5.848375720893101,"y":8.448950790640267E-4},{"x":5.960457071450946,"y":0.0010163560890740372},{"x":4.924255214903877,"y":1.3927862678685422E-4},{"x":6.074897345790151,"y":0.0012181306266382324},{"x":6.739631643617602,"y":0.0029985566925751785},{"x":4.4658473842312425,"y":4.734061897473172E-5},{"x":8.624605185990587,"y":0.009493701247839466},{"x":6.8340327229658575,"y":0.003337275639262386},{"x":7.570884032370534,"y":0.006435741978997012},{"x":4.111431980902829,"y":1.889754854955835E-5},{"x":5.466806126371041,"y":4.263451052906363E-4},{"x":2.882147218916103,"y":4.4304644180413655E-7},{"x":1.8790144579644914,"y":1.0781155818378807E-8},{"x":6.221899409983502,"y":0.0015200256650996908},{"x":4.962468077932174,"y":1.5154691629185553E-4},{"x":5.27131964214245,"y":2.9059618465014045E-4},{"x":6.597959140653938,"y":0.0025288366149906877},{"x":6.992193492418609,"y":0.0039464319632550315},{"x":5.87443202763567,"y":8.825542143260655E-4},{"x":6.746047975228791,"y":0.003020945982705261},{"x":5.0588005681813275,"y":1.8677967262163318E-4},{"x":6.03519386713229,"y":0.0011449431795256795},{"x":6.35241830530072,"y":0.00183078517668501},{"x":4.532719504746528,"y":5.5836363132876754E-5},{"x":6.691774701685578,"y":0.0028345669387585615},{"x":5.875641663648377,"y":8.843341974634232E-4},{"x":7.3544480786577395,"y":0.0054839515629757285},{"x":4.474925610698184,"y":4.842077662158512E-5},{"x":7.907894920752095,"y":0.007819808259603597},{"x":5.360923512650104,"y":3.4737311078844634E-4},{"x":5.372809419650825,"y":3.555695414877414E-4},{"x":5.1356005993181375,"y":2.197963867598338E-4},{"x":5.902643205306229,"y":9.248095304525916E-4},{"x":4.236931654787067,"y":2.63797917096914E-5},{"x":5.019027386327165,"y":1.7144816734919206E-4},{"x":6.413322802016178,"y":0.001990023224114716},{"x":5.215945934067553,"y":2.596422202204038E-4},{"x":6.31503633713609,"y":0.0017375622094677676},{"x":6.2406247211031625,"y":0.0015620912532386094},{"x":5.487706803561235,"y":4.4359520083113734E-4},{"x":5.416743407853086,"y":3.873034878415668E-4},{"x":6.432428528344881,"y":0.002041864582783037},{"x":5.828954153190178,"y":8.176635373937859E-4},{"x":6.253206631612398,"y":0.0015908250970946363},{"x":6.398055237955302,"y":0.0019492456674256953},{"x":6.050988483925906,"y":0.0011736454810508023},{"x":7.157366860879849,"y":0.004628923379769201},{"x":7.588587524400239,"y":0.006512664685140305},{"x":5.866434786969247,"y":8.708573497063196E-4},{"x":7.052912455724318,"y":0.004192511112657152},{"x":6.961809526501044,"y":0.0038256793207153217},{"x":5.124152614145209,"y":2.1457443373267495E-4},{"x":8.498644469413549,"y":0.009376853170551461},{"x":6.3151428399881,"y":0.0017378229576052986},{"x":8.133713581988417,"y":0.008585803017437625},{"x":4.97986271281099,"y":1.574394378560536E-4},{"x":5.995496150362474,"y":0.0010751736350877925},{"x":5.187530938565387,"y":2.4489121206170203E-4},{"x":7.579433951911781,"y":0.006472925540728294},{"x":5.919673033227832,"y":9.510765654901392E-4},{"x":7.631429144708038,"y":0.0066975707867564785},{"x":4.7029635149387605,"y":8.400311831274757E-5},{"x":5.358367699499681,"y":3.4563175259051036E-4},{"x":6.760834021790571,"y":0.0030728982972173},{"x":6.3976524662324055,"y":0.0019481777213703763},{"x":7.618689819544898,"y":0.006642788570097636},{"x":5.9802166049782,"y":0.0010492100515579021},{"x":5.475077433186913,"y":4.3310322424136723E-4},{"x":7.20886764177076,"y":0.004849157787309567},{"x":3.2288436588634126,"y":1.3960812604708987E-6},{"x":4.7309301644050805,"y":8.968747596238482E-5},{"x":4.231805756359583,"y":2.602751088492128E-5},{"x":8.364566646265644,"y":0.009160417802402596},{"x":7.610793915295285,"y":0.0066087453138495315},{"x":4.172789666116393,"y":2.2270501890650864E-5},{"x":3.089140140981772,"y":8.865757257157973E-7},{"x":5.599194815834887,"y":5.457595088805858E-4},{"x":7.446166655426047,"y":0.005888391642385053},{"x":8.484235772188308,"y":0.009358056330452218},{"x":5.2286196162826455,"y":2.664644150011596E-4},{"x":4.337850770777121,"y":3.426643587799711E-5},{"x":5.867294469620039,"y":8.72108820034459E-4},{"x":8.074342370680187,"y":0.008401608369240388},{"x":5.937899464578664,"y":9.798326526173325E-4},{"x":5.829273732765703,"y":8.181059047674925E-4},{"x":6.426113413853697,"y":0.00202462917314224},{"x":5.668574854121565,"y":6.186264536246553E-4},{"x":3.381620572727601,"y":2.2641141192443607E-6},{"x":5.119099374209323,"y":2.1230389855623772E-4},{"x":5.410222160279339,"y":3.824471861149739E-4},{"x":2.593450963266368,"y":1.6148772207143799E-7},{"x":4.898859083480324,"y":1.316176044628044E-4},{"x":7.100470502940915,"y":0.004389322747165216},{"x":6.832928418236891,"y":0.0033332002729079724},{"x":7.492251824703794,"y":0.006091437849008892},{"x":5.42956523786801,"y":3.970035919403172E-4},{"x":6.769975924416738,"y":0.003105267173291423},{"x":6.304976829283051,"y":0.0017130582221089746},{"x":5.29823128635571,"y":3.0674810806944643E-4},{"x":6.173405300792716,"y":0.0014149304570313954},{"x":5.953225265665412,"y":0.0010045335289266917},{"x":6.496776502527463,"y":0.0022231208504850694},{"x":5.833877096989888,"y":8.244991246316448E-4},{"x":6.594857550553009,"y":0.002519091924137205},{"x":7.248958636528134,"y":0.00502244591206534},{"x":7.827291409788372,"y":0.007508979764034599},{"x":5.935904830884161,"y":9.766530136451454E-4},{"x":6.013955952853195,"y":0.0011071985272084835},{"x":3.901142569025552,"y":1.0585718971800536E-5},{"x":5.576537643890238,"y":5.235559133947922E-4},{"x":2.9231280307413643,"y":5.092797135677431E-7},{"x":7.783413063429205,"y":0.007333305482702281},{"x":6.07442297937959,"y":0.0012172357734130616},{"x":2.9088241168250515,"y":4.851604076429467E-7},{"x":5.478778042934364,"y":4.3615577721940063E-4},{"x":5.930165011157292,"y":9.675481069707039E-4},{"x":4.466115383427229,"y":4.737219119783909E-5},{"x":4.214613029078614,"y":2.487713790451782E-5},{"x":7.098354426749947,"y":0.004380495295906657},{"x":5.475979958714686,"y":4.3384604205318943E-4},{"x":6.119933641608701,"y":0.0013053734214671952},{"x":6.4789195918070295,"y":0.002171792173070097},{"x":6.5357813229430874,"y":0.002337983251724597},{"x":4.436084791735629,"y":4.395069444605476E-5},{"x":4.995299485283741,"y":1.6283625689432932E-4},{"x":4.486228621263946,"y":4.9796809635590425E-5},{"x":7.850020289475623,"y":0.007598270760834433},{"x":6.251791069765288,"y":0.0015875734289497647},{"x":6.118406551831175,"y":0.0013023405303882578},{"x":4.055911144993085,"y":1.625712908877227E-5},{"x":6.319389945603011,"y":0.0017482435605155249},{"x":5.348128291708704,"y":3.387294703878058E-4},{"x":5.960257247140367,"y":0.0010160279708939896},{"x":6.840334573383141,"y":0.0033605819997812015},{"x":5.620780544964907,"y":5.67630279336134E-4},{"x":5.864571888823513,"y":8.681503375872657E-4},{"x":5.356979099580315,"y":3.446887663819631E-4},{"x":6.318501333150871,"y":0.001746059644250948},{"x":7.9972925075438095,"y":0.008143439583452275},{"x":6.24398823833447,"y":0.0015697356392744316},{"x":7.918556340142507,"y":0.007859642616874852},{"x":6.710748965031316,"y":0.0028989475240553107},{"x":8.040371436117153,"y":0.008290327385926628},{"x":4.9013768367044985,"y":1.3236012826197473E-4},{"x":8.000757878774634,"y":0.008155485269396426},{"x":5.176417670659768,"y":2.3932200834890434E-4},{"x":4.724117131725267,"y":8.82719236351635E-5},{"x":6.302968089984874,"y":0.0017081945973439528},{"x":5.318302940533126,"y":3.192887229033235E-4},{"x":5.561319916597006,"y":5.090666407576616E-4},{"x":4.1532103070349375,"y":2.113848354867274E-5},{"x":5.877316778160848,"y":8.868038131303022E-4},{"x":5.2341131545869555,"y":2.6946913743461706E-4},{"x":6.511015768462679,"y":0.002264616875771815},{"x":5.483218281752582,"y":4.3984220434996097E-4},{"x":5.286259018728867,"y":2.9947018974617356E-4},{"x":4.049537727488164,"y":1.5976837155252324E-5},{"x":5.400195445792492,"y":3.750807682653192E-4},{"x":7.379994760077281,"y":0.005596484415192384},{"x":8.279675801867022,"y":0.008977165135028069},{"x":5.082103783202852,"y":1.9630758814341044E-4},{"x":5.36356440216338,"y":3.4918025315530004E-4},{"x":5.4826194163120165,"y":4.393434900762462E-4},{"x":4.359760247738601,"y":3.624014976228112E-5},{"x":6.670820992901558,"y":0.0027644552817430554},{"x":6.085751415836627,"y":0.0012387422097743074},{"x":6.821422001276158,"y":0.0032908922301543614},{"x":6.833267908180668,"y":0.0033344528614050713},{"x":4.624178651155722,"y":6.96821891492124E-5},{"x":4.973551555712763,"y":1.5527864291289397E-4},{"x":6.425740879801448,"y":0.002023615527196164},{"x":2.4555133341532143,"y":9.800816403416833E-8},{"x":6.055714727818244,"y":0.0011823397148500625},{"x":6.665884537036265,"y":0.0027480893301468964},{"x":5.6861144730962065,"y":6.38255870419067E-4},{"x":6.57018957942266,"y":0.002442426181522719},{"x":6.266027819988471,"y":0.0016204952087975927},{"x":6.175602230887021,"y":0.0014195726426574644},{"x":7.93823986824769,"y":0.007932338121464785},{"x":6.054303630143824,"y":0.00117973879592316},{"x":5.306845075367159,"y":3.1207743164975296E-4},{"x":4.289701665884742,"y":3.026862820903661E-5},{"x":4.391752124713811,"y":3.930834422267982E-5},{"x":5.798178206433329,"y":7.759479866274741E-4},{"x":5.243385595009234,"y":2.746068417157259E-4},{"x":5.454599124869458,"y":4.165331100091999E-4},{"x":4.733739018044153,"y":9.027695124210797E-5},{"x":7.552015888110798,"y":0.006353479746405639},{"x":7.185227712871725,"y":0.004747705912954476},{"x":6.5779688180347975,"y":0.0024664425435636022},{"x":7.230379691384917,"y":0.004941960145266044},{"x":8.484479373140577,"y":0.009358383225773755},{"x":4.604410128415457,"y":6.64518497016892E-5},{"x":6.453605197723833,"y":0.002100382013753067},{"x":7.501034170294304,"y":0.006130057206191341},{"x":6.689957038728284,"y":0.0028284438924770215},{"x":8.680177736116292,"y":0.009517666448896981},{"x":6.80707846762971,"y":0.0032385532520224723},{"x":2.984492081108391,"y":6.262723493383927E-7},{"x":8.048766791675133,"y":0.008318211728886107},{"x":5.508321164512457,"y":4.6117739392089016E-4},{"x":3.254474724896707,"y":1.51548877464317E-6},{"x":3.0975412724250133,"y":9.114103898066143E-7},{"x":6.119505333085541,"y":0.0013045222423807362},{"x":8.126673161522453,"y":0.008564671704410123},{"x":7.579621328640904,"y":0.006473739750918482},{"x":6.512017381712097,"y":0.002267554667589864},{"x":6.381074948133893,"y":0.001904570101688353},{"x":4.5847596745555235,"y":6.33749102892803E-5},{"x":6.329526664375747,"y":0.0017732926091154578},{"x":5.534271771192757,"y":4.841344337029353E-4},{"x":3.5611485555452775,"y":3.927326198168606E-6},{"x":5.260463890173815,"y":2.842900478630649E-4},{"x":6.120595405318948,"y":0.0013066893640288307},{"x":5.013266362911114,"y":1.6932137193780033E-4},{"x":6.348040209642382,"y":0.0018196902386202985},{"x":6.765037894200154,"y":0.003087759592354994},{"x":6.94829225353396,"y":0.0037724999083455528},{"x":4.2856865247337,"y":2.995528695093651E-5},{"x":7.132595432204019,"y":0.004524089601301828},{"x":3.892740333589588,"y":1.0337876962179325E-5},{"x":6.080946387946243,"y":0.0012295853415429318},{"x":3.873531660415146,"y":9.791339073761202E-6},{"x":5.842792891429031,"y":8.369945175884892E-4},{"x":5.623661534845939,"y":5.706031222696496E-4},{"x":4.2813600109549395,"y":2.962096418519273E-5},{"x":6.701610957395759,"y":0.0028678365003912474},{"x":5.333150384012803,"y":3.2884429420003343E-4},{"x":6.8213269633513915,"y":0.003290543971609572},{"x":5.750552647071091,"y":7.147702655708565E-4},{"x":6.876458072951191,"y":0.003495791117666439},{"x":4.799025346193191,"y":1.0498858563117496E-4},{"x":6.492890788151195,"y":0.0022118843211827097},{"x":5.762502714335681,"y":7.297426468511551E-4},{"x":6.685151898962895,"y":0.002812294640705395},{"x":6.529863854180468,"y":0.002320315343899895},{"x":6.881169502727547,"y":0.0035136250976580507},{"x":5.914762807357139,"y":9.434437191700557E-4},{"x":7.847672882032518,"y":0.007589105866932732},{"x":4.552324109607361,"y":5.857568825524559E-5},{"x":7.790967806527334,"y":0.007363845968069992},{"x":8.268912484689958,"y":0.008951505240952045},{"x":5.707036914634317,"y":6.623319571248175E-4},{"x":5.397600271499491,"y":3.731938075359553E-4},{"x":5.686539054123094,"y":6.387372607670473E-4},{"x":4.462027237484319,"y":4.689264569457227E-5},{"x":8.9593599689311,"y":0.009379760562005984},{"x":3.7028019875417493,"y":5.9850663701661865E-6},{"x":4.6685244401192865,"y":7.744718039418371E-5},{"x":7.542729343990958,"y":0.006312897306250529},{"x":5.750250521161279,"y":7.143949653287378E-4},{"x":6.031009342988216,"y":0.0011374295677525348},{"x":6.880083429433035,"y":0.0035095100078633553},{"x":5.348106496136016,"y":3.3871490411425107E-4},{"x":6.366742172434066,"y":0.0018674135917790915},{"x":6.552621842577841,"y":0.002388736955864869},{"x":8.760204171839087,"y":0.009522095255002559},{"x":6.02259642047695,"y":0.0011224377531930262},{"x":5.3532511636560525,"y":3.4216795903645815E-4},{"x":4.401334627511264,"y":4.027226883189689E-5},{"x":7.026562075340087,"y":0.004084967958720218},{"x":4.1643681257324126,"y":2.177694512674839E-5},{"x":6.21109939375455,"y":0.0014961417957485264},{"x":4.536401916110622,"y":5.6341907968126894E-5},{"x":3.09043137387647,"y":8.903506563001796E-7},{"x":2.8504541767937814,"y":3.975241383579729E-7},{"x":5.229872716612042,"y":2.6714725637869694E-4},{"x":6.552022856350576,"y":0.002386919756524339},{"x":7.800513019710832,"y":0.007402262542544303},{"x":4.747773795706632,"y":9.327445799434049E-5},{"x":7.429589317443986,"y":0.005815258484592137},{"x":6.021485394031959,"y":0.0011204692748634293},{"x":5.90775055639045,"y":9.326266577634205E-4},{"x":4.183908803153208,"y":2.2937877414167378E-5},{"x":5.860948648503986,"y":8.629044109084755E-4},{"x":5.891561658378492,"y":9.080255719673996E-4},{"x":5.338505708942524,"y":3.3235013928230225E-4},{"x":5.0103150904586515,"y":1.682408299140645E-4},{"x":4.956908489931559,"y":1.497049142897596E-4},{"x":5.3296042755944395,"y":3.2654021579932665E-4},{"x":5.9765725222466335,"y":0.0010430900755992395},{"x":6.54089226591419,"y":0.002353312645990605},{"x":6.8046337393036005,"y":0.0032296772678677334},{"x":5.423674095835539,"y":3.925216327255502E-4},{"x":7.008542725186809,"y":0.004012082810730839},{"x":6.206411335154492,"y":0.0014858599986601539},{"x":7.018327395686997,"y":0.0040515924801893585},{"x":4.901901575202823,"y":1.325153466483014E-4},{"x":9.073288782589742,"y":0.009203042108440354},{"x":4.632477574999795,"y":7.107983918411552E-5},{"x":5.463115842891779,"y":4.2335860505106327E-4},{"x":6.4864150176507565,"y":0.002193241113565094},{"x":7.549502218562116,"y":0.006342500760912849},{"x":5.669006240464307,"y":6.191032526205282E-4},{"x":5.78456438110304,"y":7.580468708160743E-4},{"x":5.486625779162772,"y":4.426888802601208E-4},{"x":6.150500069385183,"y":0.0013671966153083264},{"x":6.812805824285197,"y":0.0032593984852760344},{"x":5.231360772821971,"y":2.679600845703327E-4},{"x":5.847125554251962,"y":8.43120778082145E-4},{"x":6.487067711555361,"y":0.0021951154560085596},{"x":6.568560005780798,"y":0.0024374140992672166},{"x":4.4281791519310065,"y":4.308804918584353E-5},{"x":5.9991297735422044,"y":0.0010814203215728914},{"x":4.680751961891815,"y":7.972042138325543E-5},{"x":4.466428376725425,"y":4.740908818979616E-5},{"x":5.003575254599808,"y":1.6579581627021287E-4},{"x":7.385552173037348,"y":0.005620985522492267},{"x":4.39803953012364,"y":3.9938411545782116E-5},{"x":5.207095821450429,"y":2.549679114627986E-4},{"x":5.457855126003409,"y":4.191315482403242E-4},{"x":6.463621718950073,"y":0.002128447953605987},{"x":5.609745763502039,"y":5.563613323049476E-4},{"x":6.225423163360064,"y":0.0015278780311567752},{"x":4.9316520062387115,"y":1.4158265990302173E-4},{"x":7.4670758935429244,"y":0.0059805811080571245},{"x":6.673392383696177,"y":0.002773003231240138},{"x":8.800166893564366,"y":0.009510995282424346},{"x":4.608526031518684,"y":6.711310304808403E-5},{"x":6.325562101479327,"y":0.0017634658316192926},{"x":5.32211431576762,"y":3.2171879075187194E-4},{"x":5.012963635394383,"y":1.6921025597244904E-4},{"x":7.955028313289782,"y":0.007993444718524473},{"x":6.643430951991497,"y":0.002674382695525686},{"x":5.6251523415614875,"y":5.72146479600301E-4},{"x":3.835236620483503,"y":8.780814172421706E-6},{"x":2.7219488552741162,"y":2.545878635865651E-7},{"x":5.364949819087269,"y":3.5013147118008193E-4},{"x":6.219345539433991,"y":0.0015143529743568548},{"x":3.950131970525976,"y":1.2143794582849448E-5},{"x":5.640231723611151,"y":5.879511501557106E-4},{"x":5.570154845571421,"y":5.174376166957187E-4},{"x":6.952288130865181,"y":0.003788185028840422},{"x":5.877066892518262,"y":8.864350624541474E-4},{"x":7.5895396047311365,"y":0.006516793720991442},{"x":5.0054803694262695,"y":1.6648375802887094E-4},{"x":5.997994453198439,"y":0.0010794655580341614},{"x":5.76300450222852,"y":7.303768274561155E-4},{"x":7.180607777743554,"y":0.004727948522729456},{"x":5.021178721581712,"y":1.7224835258001334E-4},{"x":6.7683411278652414,"y":0.003099464987893689},{"x":5.343633761961478,"y":3.3573696206247515E-4},{"x":6.028587758958905,"y":0.0011330986977336867},{"x":5.191324497981316,"y":2.4681773131298167E-4},{"x":6.316414877606145,"y":0.001740939389692053},{"x":5.459831795205878,"y":4.2071565253751025E-4},{"x":7.810613348198679,"y":0.00744270075223628},{"x":5.730651984919697,"y":6.90387478887369E-4},{"x":3.4367066840843106,"y":2.686346892194626E-6},{"x":6.1565665891302315,"y":0.0013797211340295038},{"x":4.749108008260702,"y":9.356398500007876E-5},{"x":5.338543925094812,"y":3.323752712119173E-4},{"x":8.325490095002799,"y":0.009080344320991703},{"x":5.975499659397104,"y":0.0010412935535048815},{"x":6.367866803313696,"y":0.0018703108124761678},{"x":4.861366691902518,"y":1.2098785779634844E-4},{"x":6.142753962068884,"y":0.001351327487285315},{"x":6.2280025638717715,"y":0.0015336446525680792},{"x":3.3019031568534087,"y":1.762246878628623E-6},{"x":4.489121138412491,"y":5.015458534408296E-5},{"x":6.3000456920230805,"y":0.0017011362891305617},{"x":6.213871152528095,"y":0.0015022451615673517},{"x":5.179581426433485,"y":2.4089620900712331E-4},{"x":4.153532200898252,"y":2.1156659269400284E-5},{"x":6.315843384389316,"y":0.0017395387706509858},{"x":4.441669150833091,"y":4.456945574942335E-5},{"x":6.328398276272505,"y":0.0017704918173262667},{"x":3.5334641923696153,"y":3.611965058333521E-6},{"x":5.065704666392679,"y":1.8955954208242832E-4},{"x":5.550235327073021,"y":4.987232948889015E-4},{"x":6.16367038458961,"y":0.001394494996731556},{"x":4.084616143766594,"y":1.757657200159129E-5},{"x":6.178812285289951,"y":0.001426375770697646},{"x":3.973502033284234,"y":1.2959498925055876E-5},{"x":6.851317193026748,"y":0.0034014007453891893},{"x":6.610026142567492,"y":0.0025669720729692997},{"x":6.446562144818156,"y":0.0020807965855850694},{"x":4.860895836472669,"y":1.2085934153229613E-4},{"x":3.7577261900806787,"y":7.024996736755104E-6},{"x":5.708720010853285,"y":6.64300394138543E-4},{"x":4.131947148847848,"y":1.996913420004589E-5},{"x":5.112697095042873,"y":2.0945719900968706E-4},{"x":4.311844702049924,"y":3.205106953874681E-5},{"x":5.332751811549457,"y":3.285846337557656E-4},{"x":5.7064222637999045,"y":6.616142848700989E-4},{"x":4.9810967523028395,"y":1.578650173127529E-4},{"x":4.945762789740948,"y":1.4607134830188086E-4},{"x":8.205185894474798,"y":0.008788897691615394},{"x":5.058653834075005,"y":1.8672097972793466E-4},{"x":5.639779441140346,"y":5.874719559625595E-4},{"x":6.466083193466567,"y":0.0021353829988065933},{"x":7.4877029121722565,"y":0.006071422873282131},{"x":5.899312793615985,"y":9.197399109107328E-4},{"x":6.5670070311374795,"y":0.0024326436773164733},{"x":4.563172527338292,"y":6.014307163216904E-5},{"x":7.91723021144904,"y":0.00785470512527065},{"x":6.302260153705986,"y":0.0017064828545538455},{"x":7.619640149212641,"y":0.0066468814301863305},{"x":6.86474653403533,"y":0.0034516574393810852},{"x":5.042477557028522,"y":1.803484682825595E-4},{"x":4.092972182863441,"y":1.7978789021879994E-5},{"x":6.428815036236989,"y":0.00203199043417374},{"x":5.182912404374989,"y":2.4256327568871535E-4},{"x":6.586868250857192,"y":0.002494098969796453},{"x":6.755116075836668,"y":0.003052748756468077},{"x":3.990957629385778,"y":1.3601485889936925E-5},{"x":6.740775459369431,"y":0.003002541041377831},{"x":5.877583422050684,"y":8.871974271108367E-4},{"x":5.718024195824309,"y":6.752678436601863E-4},{"x":3.993766708978117,"y":1.3707501938609004E-5},{"x":2.308905111487504,"y":5.694657697832796E-8},{"x":4.55111425008432,"y":5.8403190316371E-5},{"x":5.917249840402432,"y":9.473037398959078E-4},{"x":4.958612426013474,"y":1.5026735805471708E-4},{"x":5.362665806262896,"y":3.485644566226756E-4},{"x":6.975564736763463,"y":0.0038801398327091394},{"x":5.107483847238354,"y":2.0716374785983405E-4},{"x":5.473868626195755,"y":4.321099938508182E-4},{"x":10.238713955762659,"y":0.004904020573915439},{"x":5.859813139007326,"y":8.612655332256052E-4},{"x":6.494319927107157,"y":0.0022160126903989813},{"x":7.136407486925819,"y":0.0045401722624024456},{"x":6.819597388199066,"y":0.0032842094990430328},{"x":6.223713019656439,"y":0.0015240634559085843},{"x":8.318892063281444,"y":0.009066096245034216},{"x":6.597092701636642,"y":0.0025261120436329393},{"x":6.329378449131715,"y":0.0017729245439896183},{"x":6.649410796081839,"y":0.002693894315382982},{"x":4.807507501346888,"y":1.0704865268697755E-4},{"x":5.514009007153652,"y":4.661297833613557E-4},{"x":7.035510984479091,"y":0.00412136518096083},{"x":7.226344055582892,"y":0.004924517515207059},{"x":3.606073686950809,"y":4.494451639851365E-6},{"x":5.543745038143716,"y":4.92748453890457E-4},{"x":6.4419496241877,"y":0.0020680366601994785},{"x":7.797163016173575,"y":0.007388801756744229},{"x":6.952308089382391,"y":0.0037882634474114755},{"x":6.689008769958055,"y":0.0028252526097830594},{"x":5.9757367734884435,"y":0.0010416903976540196},{"x":7.730074502616906,"y":0.007114511697207778},{"x":4.7980863254317985,"y":1.0476270603795543E-4},{"x":3.405178424709199,"y":2.436417343031966E-6},{"x":7.672477502702494,"y":0.0068727530598244},{"x":7.25168013582013,"y":0.005034260143301706},{"x":5.157506991494719,"y":2.3009673927552638E-4},{"x":8.174936832382254,"y":0.008705528435932853},{"x":4.637154507781173,"y":7.18785400726343E-5},{"x":3.6033129428886825,"y":4.457502647123042E-6},{"x":4.364389752696465,"y":3.667021810471117E-5},{"x":4.905260569586264,"y":1.3351275490798459E-4},{"x":5.613428127315751,"y":5.601011682124633E-4},{"x":7.562588276644028,"y":0.006399607079821539},{"x":6.86810407790709,"y":0.0034642810453820263},{"x":5.697156571156224,"y":6.50871933366808E-4},{"x":7.173354097295057,"y":0.004696975538895645},{"x":5.826419680048644,"y":8.14162019681238E-4}]}],"marks":[{"type":"symbol","from":{"data":"0a75870a-963d-454a-b349-c739e137f8b2"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"0a75870a-963d-454a-b349-c739e137f8b2","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"0a75870a-963d-454a-b349-c739e137f8b2","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :data [{:name \"0a75870a-963d-454a-b349-c739e137f8b2\", :values ({:x 6.818205548153194, :y 0.003279116662989808} {:x 4.7557891198551205, :y 9.502589022887695E-5} {:x 5.087045175658291, :y 1.9838152385372065E-4} {:x 8.621829955236137, :y 0.009492057680788465} {:x 5.3025123537900685, :y 3.0938699104865377E-4} {:x 4.901038342981118, :y 1.3226008655052953E-4} {:x 5.594216679506156, :y 5.408155562702783E-4} {:x 5.415909483506798, :y 3.866795861489755E-4} {:x 5.181908475651573, :y 2.420597898648759E-4} {:x 6.414902967126832, :y 0.001994276552405978} {:x 5.042014194964655, :y 1.8016876551046573E-4} {:x 3.9796946621891935, :y 1.3183977279567137E-5} {:x 4.215488182317593, :y 2.4934551012664714E-5} {:x 5.999183849965798, :y 0.0010815134968574299} {:x 6.5789171008033085, :y 0.002469380258617282} {:x 5.555571571573217, :y 5.036807030698057E-4} {:x 4.46333767894554, :y 4.7045881342307337E-5} {:x 6.595728842209843, :y 0.00252182701113685} {:x 5.941247164480236, :y 9.851873543161417E-4} {:x 4.501620357240007, :y 5.172750149502857E-5} {:x 5.521593535494131, :y 4.7280256693790247E-4} {:x 4.307742605601391, :y 3.171380615581583E-5} {:x 7.302519562218867, :y 0.005255961563277085} {:x 6.1042687257655395, :y 0.0012745121025418177} {:x 7.124384487153235, :y 0.004489512443896054} {:x 6.75038534819328, :y 0.0030361342238250104} {:x 6.417884034704578, :y 0.0020023175143461607} {:x 7.1912169142546665, :y 0.004773353514537897} {:x 6.649357187218371, :y 0.0026937190139516244} {:x 7.030317439281172, :y 0.004100225887101007} {:x 5.300402934152086, :y 3.0808431515464226E-4} {:x 4.806295431650771, :y 1.0675209376184061E-4} {:x 6.96445230952295, :y 0.0038361160022849566} {:x 6.67515653074028, :y 0.0027788767819719095} {:x 4.349871745309008, :y 3.533687288930333E-5} {:x 5.587022992073342, :y 5.337366483624418E-4} {:x 5.9278808734713415, :y 9.639433476708608E-4} {:x 6.848921650455858, :y 0.0033924755954940016} {:x 4.9150901384520145, :y 1.3646968987317566E-4} {:x 6.576300627324602, :y 0.002461279948608193} {:x 8.4948834728034, :y 0.009372052606902073} {:x 5.64282199562899, :y 5.907017299162373E-4} {:x 7.121298084124468, :y 0.004476538190801817} {:x 6.43551458171864, :y 0.0020503230774571416} {:x 5.848375720893101, :y 8.448950790640267E-4} {:x 5.960457071450946, :y 0.0010163560890740372} {:x 4.924255214903877, :y 1.3927862678685422E-4} {:x 6.074897345790151, :y 0.0012181306266382324} {:x 6.739631643617602, :y 0.0029985566925751785} {:x 4.4658473842312425, :y 4.734061897473172E-5} {:x 8.624605185990587, :y 0.009493701247839466} {:x 6.8340327229658575, :y 0.003337275639262386} {:x 7.570884032370534, :y 0.006435741978997012} {:x 4.111431980902829, :y 1.889754854955835E-5} {:x 5.466806126371041, :y 4.263451052906363E-4} {:x 2.882147218916103, :y 4.4304644180413655E-7} {:x 1.8790144579644914, :y 1.0781155818378807E-8} {:x 6.221899409983502, :y 0.0015200256650996908} {:x 4.962468077932174, :y 1.5154691629185553E-4} {:x 5.27131964214245, :y 2.9059618465014045E-4} {:x 6.597959140653938, :y 0.0025288366149906877} {:x 6.992193492418609, :y 0.0039464319632550315} {:x 5.87443202763567, :y 8.825542143260655E-4} {:x 6.746047975228791, :y 0.003020945982705261} {:x 5.0588005681813275, :y 1.8677967262163318E-4} {:x 6.03519386713229, :y 0.0011449431795256795} {:x 6.35241830530072, :y 0.00183078517668501} {:x 4.532719504746528, :y 5.5836363132876754E-5} {:x 6.691774701685578, :y 0.0028345669387585615} {:x 5.875641663648377, :y 8.843341974634232E-4} {:x 7.3544480786577395, :y 0.0054839515629757285} {:x 4.474925610698184, :y 4.842077662158512E-5} {:x 7.907894920752095, :y 0.007819808259603597} {:x 5.360923512650104, :y 3.4737311078844634E-4} {:x 5.372809419650825, :y 3.555695414877414E-4} {:x 5.1356005993181375, :y 2.197963867598338E-4} {:x 5.902643205306229, :y 9.248095304525916E-4} {:x 4.236931654787067, :y 2.63797917096914E-5} {:x 5.019027386327165, :y 1.7144816734919206E-4} {:x 6.413322802016178, :y 0.001990023224114716} {:x 5.215945934067553, :y 2.596422202204038E-4} {:x 6.31503633713609, :y 0.0017375622094677676} {:x 6.2406247211031625, :y 0.0015620912532386094} {:x 5.487706803561235, :y 4.4359520083113734E-4} {:x 5.416743407853086, :y 3.873034878415668E-4} {:x 6.432428528344881, :y 0.002041864582783037} {:x 5.828954153190178, :y 8.176635373937859E-4} {:x 6.253206631612398, :y 0.0015908250970946363} {:x 6.398055237955302, :y 0.0019492456674256953} {:x 6.050988483925906, :y 0.0011736454810508023} {:x 7.157366860879849, :y 0.004628923379769201} {:x 7.588587524400239, :y 0.006512664685140305} {:x 5.866434786969247, :y 8.708573497063196E-4} {:x 7.052912455724318, :y 0.004192511112657152} {:x 6.961809526501044, :y 0.0038256793207153217} {:x 5.124152614145209, :y 2.1457443373267495E-4} {:x 8.498644469413549, :y 0.009376853170551461} {:x 6.3151428399881, :y 0.0017378229576052986} {:x 8.133713581988417, :y 0.008585803017437625} {:x 4.97986271281099, :y 1.574394378560536E-4} {:x 5.995496150362474, :y 0.0010751736350877925} {:x 5.187530938565387, :y 2.4489121206170203E-4} {:x 7.579433951911781, :y 0.006472925540728294} {:x 5.919673033227832, :y 9.510765654901392E-4} {:x 7.631429144708038, :y 0.0066975707867564785} {:x 4.7029635149387605, :y 8.400311831274757E-5} {:x 5.358367699499681, :y 3.4563175259051036E-4} {:x 6.760834021790571, :y 0.0030728982972173} {:x 6.3976524662324055, :y 0.0019481777213703763} {:x 7.618689819544898, :y 0.006642788570097636} {:x 5.9802166049782, :y 0.0010492100515579021} {:x 5.475077433186913, :y 4.3310322424136723E-4} {:x 7.20886764177076, :y 0.004849157787309567} {:x 3.2288436588634126, :y 1.3960812604708987E-6} {:x 4.7309301644050805, :y 8.968747596238482E-5} {:x 4.231805756359583, :y 2.602751088492128E-5} {:x 8.364566646265644, :y 0.009160417802402596} {:x 7.610793915295285, :y 0.0066087453138495315} {:x 4.172789666116393, :y 2.2270501890650864E-5} {:x 3.089140140981772, :y 8.865757257157973E-7} {:x 5.599194815834887, :y 5.457595088805858E-4} {:x 7.446166655426047, :y 0.005888391642385053} {:x 8.484235772188308, :y 0.009358056330452218} {:x 5.2286196162826455, :y 2.664644150011596E-4} {:x 4.337850770777121, :y 3.426643587799711E-5} {:x 5.867294469620039, :y 8.72108820034459E-4} {:x 8.074342370680187, :y 0.008401608369240388} {:x 5.937899464578664, :y 9.798326526173325E-4} {:x 5.829273732765703, :y 8.181059047674925E-4} {:x 6.426113413853697, :y 0.00202462917314224} {:x 5.668574854121565, :y 6.186264536246553E-4} {:x 3.381620572727601, :y 2.2641141192443607E-6} {:x 5.119099374209323, :y 2.1230389855623772E-4} {:x 5.410222160279339, :y 3.824471861149739E-4} {:x 2.593450963266368, :y 1.6148772207143799E-7} {:x 4.898859083480324, :y 1.316176044628044E-4} {:x 7.100470502940915, :y 0.004389322747165216} {:x 6.832928418236891, :y 0.0033332002729079724} {:x 7.492251824703794, :y 0.006091437849008892} {:x 5.42956523786801, :y 3.970035919403172E-4} {:x 6.769975924416738, :y 0.003105267173291423} {:x 6.304976829283051, :y 0.0017130582221089746} {:x 5.29823128635571, :y 3.0674810806944643E-4} {:x 6.173405300792716, :y 0.0014149304570313954} {:x 5.953225265665412, :y 0.0010045335289266917} {:x 6.496776502527463, :y 0.0022231208504850694} {:x 5.833877096989888, :y 8.244991246316448E-4} {:x 6.594857550553009, :y 0.002519091924137205} {:x 7.248958636528134, :y 0.00502244591206534} {:x 7.827291409788372, :y 0.007508979764034599} {:x 5.935904830884161, :y 9.766530136451454E-4} {:x 6.013955952853195, :y 0.0011071985272084835} {:x 3.901142569025552, :y 1.0585718971800536E-5} {:x 5.576537643890238, :y 5.235559133947922E-4} {:x 2.9231280307413643, :y 5.092797135677431E-7} {:x 7.783413063429205, :y 0.007333305482702281} {:x 6.07442297937959, :y 0.0012172357734130616} {:x 2.9088241168250515, :y 4.851604076429467E-7} {:x 5.478778042934364, :y 4.3615577721940063E-4} {:x 5.930165011157292, :y 9.675481069707039E-4} {:x 4.466115383427229, :y 4.737219119783909E-5} {:x 4.214613029078614, :y 2.487713790451782E-5} {:x 7.098354426749947, :y 0.004380495295906657} {:x 5.475979958714686, :y 4.3384604205318943E-4} {:x 6.119933641608701, :y 0.0013053734214671952} {:x 6.4789195918070295, :y 0.002171792173070097} {:x 6.5357813229430874, :y 0.002337983251724597} {:x 4.436084791735629, :y 4.395069444605476E-5} {:x 4.995299485283741, :y 1.6283625689432932E-4} {:x 4.486228621263946, :y 4.9796809635590425E-5} {:x 7.850020289475623, :y 0.007598270760834433} {:x 6.251791069765288, :y 0.0015875734289497647} {:x 6.118406551831175, :y 0.0013023405303882578} {:x 4.055911144993085, :y 1.625712908877227E-5} {:x 6.319389945603011, :y 0.0017482435605155249} {:x 5.348128291708704, :y 3.387294703878058E-4} {:x 5.960257247140367, :y 0.0010160279708939896} {:x 6.840334573383141, :y 0.0033605819997812015} {:x 5.620780544964907, :y 5.67630279336134E-4} {:x 5.864571888823513, :y 8.681503375872657E-4} {:x 5.356979099580315, :y 3.446887663819631E-4} {:x 6.318501333150871, :y 0.001746059644250948} {:x 7.9972925075438095, :y 0.008143439583452275} {:x 6.24398823833447, :y 0.0015697356392744316} {:x 7.918556340142507, :y 0.007859642616874852} {:x 6.710748965031316, :y 0.0028989475240553107} {:x 8.040371436117153, :y 0.008290327385926628} {:x 4.9013768367044985, :y 1.3236012826197473E-4} {:x 8.000757878774634, :y 0.008155485269396426} {:x 5.176417670659768, :y 2.3932200834890434E-4} {:x 4.724117131725267, :y 8.82719236351635E-5} {:x 6.302968089984874, :y 0.0017081945973439528} {:x 5.318302940533126, :y 3.192887229033235E-4} {:x 5.561319916597006, :y 5.090666407576616E-4} {:x 4.1532103070349375, :y 2.113848354867274E-5} {:x 5.877316778160848, :y 8.868038131303022E-4} {:x 5.2341131545869555, :y 2.6946913743461706E-4} {:x 6.511015768462679, :y 0.002264616875771815} {:x 5.483218281752582, :y 4.3984220434996097E-4} {:x 5.286259018728867, :y 2.9947018974617356E-4} {:x 4.049537727488164, :y 1.5976837155252324E-5} {:x 5.400195445792492, :y 3.750807682653192E-4} {:x 7.379994760077281, :y 0.005596484415192384} {:x 8.279675801867022, :y 0.008977165135028069} {:x 5.082103783202852, :y 1.9630758814341044E-4} {:x 5.36356440216338, :y 3.4918025315530004E-4} {:x 5.4826194163120165, :y 4.393434900762462E-4} {:x 4.359760247738601, :y 3.624014976228112E-5} {:x 6.670820992901558, :y 0.0027644552817430554} {:x 6.085751415836627, :y 0.0012387422097743074} {:x 6.821422001276158, :y 0.0032908922301543614} {:x 6.833267908180668, :y 0.0033344528614050713} {:x 4.624178651155722, :y 6.96821891492124E-5} {:x 4.973551555712763, :y 1.5527864291289397E-4} {:x 6.425740879801448, :y 0.002023615527196164} {:x 2.4555133341532143, :y 9.800816403416833E-8} {:x 6.055714727818244, :y 0.0011823397148500625} {:x 6.665884537036265, :y 0.0027480893301468964} {:x 5.6861144730962065, :y 6.38255870419067E-4} {:x 6.57018957942266, :y 0.002442426181522719} {:x 6.266027819988471, :y 0.0016204952087975927} {:x 6.175602230887021, :y 0.0014195726426574644} {:x 7.93823986824769, :y 0.007932338121464785} {:x 6.054303630143824, :y 0.00117973879592316} {:x 5.306845075367159, :y 3.1207743164975296E-4} {:x 4.289701665884742, :y 3.026862820903661E-5} {:x 4.391752124713811, :y 3.930834422267982E-5} {:x 5.798178206433329, :y 7.759479866274741E-4} {:x 5.243385595009234, :y 2.746068417157259E-4} {:x 5.454599124869458, :y 4.165331100091999E-4} {:x 4.733739018044153, :y 9.027695124210797E-5} {:x 7.552015888110798, :y 0.006353479746405639} {:x 7.185227712871725, :y 0.004747705912954476} {:x 6.5779688180347975, :y 0.0024664425435636022} {:x 7.230379691384917, :y 0.004941960145266044} {:x 8.484479373140577, :y 0.009358383225773755} {:x 4.604410128415457, :y 6.64518497016892E-5} {:x 6.453605197723833, :y 0.002100382013753067} {:x 7.501034170294304, :y 0.006130057206191341} {:x 6.689957038728284, :y 0.0028284438924770215} {:x 8.680177736116292, :y 0.009517666448896981} {:x 6.80707846762971, :y 0.0032385532520224723} {:x 2.984492081108391, :y 6.262723493383927E-7} {:x 8.048766791675133, :y 0.008318211728886107} {:x 5.508321164512457, :y 4.6117739392089016E-4} {:x 3.254474724896707, :y 1.51548877464317E-6} {:x 3.0975412724250133, :y 9.114103898066143E-7} {:x 6.119505333085541, :y 0.0013045222423807362} {:x 8.126673161522453, :y 0.008564671704410123} {:x 7.579621328640904, :y 0.006473739750918482} {:x 6.512017381712097, :y 0.002267554667589864} {:x 6.381074948133893, :y 0.001904570101688353} {:x 4.5847596745555235, :y 6.33749102892803E-5} {:x 6.329526664375747, :y 0.0017732926091154578} {:x 5.534271771192757, :y 4.841344337029353E-4} {:x 3.5611485555452775, :y 3.927326198168606E-6} {:x 5.260463890173815, :y 2.842900478630649E-4} {:x 6.120595405318948, :y 0.0013066893640288307} {:x 5.013266362911114, :y 1.6932137193780033E-4} {:x 6.348040209642382, :y 0.0018196902386202985} {:x 6.765037894200154, :y 0.003087759592354994} {:x 6.94829225353396, :y 0.0037724999083455528} {:x 4.2856865247337, :y 2.995528695093651E-5} {:x 7.132595432204019, :y 0.004524089601301828} {:x 3.892740333589588, :y 1.0337876962179325E-5} {:x 6.080946387946243, :y 0.0012295853415429318} {:x 3.873531660415146, :y 9.791339073761202E-6} {:x 5.842792891429031, :y 8.369945175884892E-4} {:x 5.623661534845939, :y 5.706031222696496E-4} {:x 4.2813600109549395, :y 2.962096418519273E-5} {:x 6.701610957395759, :y 0.0028678365003912474} {:x 5.333150384012803, :y 3.2884429420003343E-4} {:x 6.8213269633513915, :y 0.003290543971609572} {:x 5.750552647071091, :y 7.147702655708565E-4} {:x 6.876458072951191, :y 0.003495791117666439} {:x 4.799025346193191, :y 1.0498858563117496E-4} {:x 6.492890788151195, :y 0.0022118843211827097} {:x 5.762502714335681, :y 7.297426468511551E-4} {:x 6.685151898962895, :y 0.002812294640705395} {:x 6.529863854180468, :y 0.002320315343899895} {:x 6.881169502727547, :y 0.0035136250976580507} {:x 5.914762807357139, :y 9.434437191700557E-4} {:x 7.847672882032518, :y 0.007589105866932732} {:x 4.552324109607361, :y 5.857568825524559E-5} {:x 7.790967806527334, :y 0.007363845968069992} {:x 8.268912484689958, :y 0.008951505240952045} {:x 5.707036914634317, :y 6.623319571248175E-4} {:x 5.397600271499491, :y 3.731938075359553E-4} {:x 5.686539054123094, :y 6.387372607670473E-4} {:x 4.462027237484319, :y 4.689264569457227E-5} {:x 8.9593599689311, :y 0.009379760562005984} {:x 3.7028019875417493, :y 5.9850663701661865E-6} {:x 4.6685244401192865, :y 7.744718039418371E-5} {:x 7.542729343990958, :y 0.006312897306250529} {:x 5.750250521161279, :y 7.143949653287378E-4} {:x 6.031009342988216, :y 0.0011374295677525348} {:x 6.880083429433035, :y 0.0035095100078633553} {:x 5.348106496136016, :y 3.3871490411425107E-4} {:x 6.366742172434066, :y 0.0018674135917790915} {:x 6.552621842577841, :y 0.002388736955864869} {:x 8.760204171839087, :y 0.009522095255002559} {:x 6.02259642047695, :y 0.0011224377531930262} {:x 5.3532511636560525, :y 3.4216795903645815E-4} {:x 4.401334627511264, :y 4.027226883189689E-5} {:x 7.026562075340087, :y 0.004084967958720218} {:x 4.1643681257324126, :y 2.177694512674839E-5} {:x 6.21109939375455, :y 0.0014961417957485264} {:x 4.536401916110622, :y 5.6341907968126894E-5} {:x 3.09043137387647, :y 8.903506563001796E-7} {:x 2.8504541767937814, :y 3.975241383579729E-7} {:x 5.229872716612042, :y 2.6714725637869694E-4} {:x 6.552022856350576, :y 0.002386919756524339} {:x 7.800513019710832, :y 0.007402262542544303} {:x 4.747773795706632, :y 9.327445799434049E-5} {:x 7.429589317443986, :y 0.005815258484592137} {:x 6.021485394031959, :y 0.0011204692748634293} {:x 5.90775055639045, :y 9.326266577634205E-4} {:x 4.183908803153208, :y 2.2937877414167378E-5} {:x 5.860948648503986, :y 8.629044109084755E-4} {:x 5.891561658378492, :y 9.080255719673996E-4} {:x 5.338505708942524, :y 3.3235013928230225E-4} {:x 5.0103150904586515, :y 1.682408299140645E-4} {:x 4.956908489931559, :y 1.497049142897596E-4} {:x 5.3296042755944395, :y 3.2654021579932665E-4} {:x 5.9765725222466335, :y 0.0010430900755992395} {:x 6.54089226591419, :y 0.002353312645990605} {:x 6.8046337393036005, :y 0.0032296772678677334} {:x 5.423674095835539, :y 3.925216327255502E-4} {:x 7.008542725186809, :y 0.004012082810730839} {:x 6.206411335154492, :y 0.0014858599986601539} {:x 7.018327395686997, :y 0.0040515924801893585} {:x 4.901901575202823, :y 1.325153466483014E-4} {:x 9.073288782589742, :y 0.009203042108440354} {:x 4.632477574999795, :y 7.107983918411552E-5} {:x 5.463115842891779, :y 4.2335860505106327E-4} {:x 6.4864150176507565, :y 0.002193241113565094} {:x 7.549502218562116, :y 0.006342500760912849} {:x 5.669006240464307, :y 6.191032526205282E-4} {:x 5.78456438110304, :y 7.580468708160743E-4} {:x 5.486625779162772, :y 4.426888802601208E-4} {:x 6.150500069385183, :y 0.0013671966153083264} {:x 6.812805824285197, :y 0.0032593984852760344} {:x 5.231360772821971, :y 2.679600845703327E-4} {:x 5.847125554251962, :y 8.43120778082145E-4} {:x 6.487067711555361, :y 0.0021951154560085596} {:x 6.568560005780798, :y 0.0024374140992672166} {:x 4.4281791519310065, :y 4.308804918584353E-5} {:x 5.9991297735422044, :y 0.0010814203215728914} {:x 4.680751961891815, :y 7.972042138325543E-5} {:x 4.466428376725425, :y 4.740908818979616E-5} {:x 5.003575254599808, :y 1.6579581627021287E-4} {:x 7.385552173037348, :y 0.005620985522492267} {:x 4.39803953012364, :y 3.9938411545782116E-5} {:x 5.207095821450429, :y 2.549679114627986E-4} {:x 5.457855126003409, :y 4.191315482403242E-4} {:x 6.463621718950073, :y 0.002128447953605987} {:x 5.609745763502039, :y 5.563613323049476E-4} {:x 6.225423163360064, :y 0.0015278780311567752} {:x 4.9316520062387115, :y 1.4158265990302173E-4} {:x 7.4670758935429244, :y 0.0059805811080571245} {:x 6.673392383696177, :y 0.002773003231240138} {:x 8.800166893564366, :y 0.009510995282424346} {:x 4.608526031518684, :y 6.711310304808403E-5} {:x 6.325562101479327, :y 0.0017634658316192926} {:x 5.32211431576762, :y 3.2171879075187194E-4} {:x 5.012963635394383, :y 1.6921025597244904E-4} {:x 7.955028313289782, :y 0.007993444718524473} {:x 6.643430951991497, :y 0.002674382695525686} {:x 5.6251523415614875, :y 5.72146479600301E-4} {:x 3.835236620483503, :y 8.780814172421706E-6} {:x 2.7219488552741162, :y 2.545878635865651E-7} {:x 5.364949819087269, :y 3.5013147118008193E-4} {:x 6.219345539433991, :y 0.0015143529743568548} {:x 3.950131970525976, :y 1.2143794582849448E-5} {:x 5.640231723611151, :y 5.879511501557106E-4} {:x 5.570154845571421, :y 5.174376166957187E-4} {:x 6.952288130865181, :y 0.003788185028840422} {:x 5.877066892518262, :y 8.864350624541474E-4} {:x 7.5895396047311365, :y 0.006516793720991442} {:x 5.0054803694262695, :y 1.6648375802887094E-4} {:x 5.997994453198439, :y 0.0010794655580341614} {:x 5.76300450222852, :y 7.303768274561155E-4} {:x 7.180607777743554, :y 0.004727948522729456} {:x 5.021178721581712, :y 1.7224835258001334E-4} {:x 6.7683411278652414, :y 0.003099464987893689} {:x 5.343633761961478, :y 3.3573696206247515E-4} {:x 6.028587758958905, :y 0.0011330986977336867} {:x 5.191324497981316, :y 2.4681773131298167E-4} {:x 6.316414877606145, :y 0.001740939389692053} {:x 5.459831795205878, :y 4.2071565253751025E-4} {:x 7.810613348198679, :y 0.00744270075223628} {:x 5.730651984919697, :y 6.90387478887369E-4} {:x 3.4367066840843106, :y 2.686346892194626E-6} {:x 6.1565665891302315, :y 0.0013797211340295038} {:x 4.749108008260702, :y 9.356398500007876E-5} {:x 5.338543925094812, :y 3.323752712119173E-4} {:x 8.325490095002799, :y 0.009080344320991703} {:x 5.975499659397104, :y 0.0010412935535048815} {:x 6.367866803313696, :y 0.0018703108124761678} {:x 4.861366691902518, :y 1.2098785779634844E-4} {:x 6.142753962068884, :y 0.001351327487285315} {:x 6.2280025638717715, :y 0.0015336446525680792} {:x 3.3019031568534087, :y 1.762246878628623E-6} {:x 4.489121138412491, :y 5.015458534408296E-5} {:x 6.3000456920230805, :y 0.0017011362891305617} {:x 6.213871152528095, :y 0.0015022451615673517} {:x 5.179581426433485, :y 2.4089620900712331E-4} {:x 4.153532200898252, :y 2.1156659269400284E-5} {:x 6.315843384389316, :y 0.0017395387706509858} {:x 4.441669150833091, :y 4.456945574942335E-5} {:x 6.328398276272505, :y 0.0017704918173262667} {:x 3.5334641923696153, :y 3.611965058333521E-6} {:x 5.065704666392679, :y 1.8955954208242832E-4} {:x 5.550235327073021, :y 4.987232948889015E-4} {:x 6.16367038458961, :y 0.001394494996731556} {:x 4.084616143766594, :y 1.757657200159129E-5} {:x 6.178812285289951, :y 0.001426375770697646} {:x 3.973502033284234, :y 1.2959498925055876E-5} {:x 6.851317193026748, :y 0.0034014007453891893} {:x 6.610026142567492, :y 0.0025669720729692997} {:x 6.446562144818156, :y 0.0020807965855850694} {:x 4.860895836472669, :y 1.2085934153229613E-4} {:x 3.7577261900806787, :y 7.024996736755104E-6} {:x 5.708720010853285, :y 6.64300394138543E-4} {:x 4.131947148847848, :y 1.996913420004589E-5} {:x 5.112697095042873, :y 2.0945719900968706E-4} {:x 4.311844702049924, :y 3.205106953874681E-5} {:x 5.332751811549457, :y 3.285846337557656E-4} {:x 5.7064222637999045, :y 6.616142848700989E-4} {:x 4.9810967523028395, :y 1.578650173127529E-4} {:x 4.945762789740948, :y 1.4607134830188086E-4} {:x 8.205185894474798, :y 0.008788897691615394} {:x 5.058653834075005, :y 1.8672097972793466E-4} {:x 5.639779441140346, :y 5.874719559625595E-4} {:x 6.466083193466567, :y 0.0021353829988065933} {:x 7.4877029121722565, :y 0.006071422873282131} {:x 5.899312793615985, :y 9.197399109107328E-4} {:x 6.5670070311374795, :y 0.0024326436773164733} {:x 4.563172527338292, :y 6.014307163216904E-5} {:x 7.91723021144904, :y 0.00785470512527065} {:x 6.302260153705986, :y 0.0017064828545538455} {:x 7.619640149212641, :y 0.0066468814301863305} {:x 6.86474653403533, :y 0.0034516574393810852} {:x 5.042477557028522, :y 1.803484682825595E-4} {:x 4.092972182863441, :y 1.7978789021879994E-5} {:x 6.428815036236989, :y 0.00203199043417374} {:x 5.182912404374989, :y 2.4256327568871535E-4} {:x 6.586868250857192, :y 0.002494098969796453} {:x 6.755116075836668, :y 0.003052748756468077} {:x 3.990957629385778, :y 1.3601485889936925E-5} {:x 6.740775459369431, :y 0.003002541041377831} {:x 5.877583422050684, :y 8.871974271108367E-4} {:x 5.718024195824309, :y 6.752678436601863E-4} {:x 3.993766708978117, :y 1.3707501938609004E-5} {:x 2.308905111487504, :y 5.694657697832796E-8} {:x 4.55111425008432, :y 5.8403190316371E-5} {:x 5.917249840402432, :y 9.473037398959078E-4} {:x 4.958612426013474, :y 1.5026735805471708E-4} {:x 5.362665806262896, :y 3.485644566226756E-4} {:x 6.975564736763463, :y 0.0038801398327091394} {:x 5.107483847238354, :y 2.0716374785983405E-4} {:x 5.473868626195755, :y 4.321099938508182E-4} {:x 10.238713955762659, :y 0.004904020573915439} {:x 5.859813139007326, :y 8.612655332256052E-4} {:x 6.494319927107157, :y 0.0022160126903989813} {:x 7.136407486925819, :y 0.0045401722624024456} {:x 6.819597388199066, :y 0.0032842094990430328} {:x 6.223713019656439, :y 0.0015240634559085843} {:x 8.318892063281444, :y 0.009066096245034216} {:x 6.597092701636642, :y 0.0025261120436329393} {:x 6.329378449131715, :y 0.0017729245439896183} {:x 6.649410796081839, :y 0.002693894315382982} {:x 4.807507501346888, :y 1.0704865268697755E-4} {:x 5.514009007153652, :y 4.661297833613557E-4} {:x 7.035510984479091, :y 0.00412136518096083} {:x 7.226344055582892, :y 0.004924517515207059} {:x 3.606073686950809, :y 4.494451639851365E-6} {:x 5.543745038143716, :y 4.92748453890457E-4} {:x 6.4419496241877, :y 0.0020680366601994785} {:x 7.797163016173575, :y 0.007388801756744229} {:x 6.952308089382391, :y 0.0037882634474114755} {:x 6.689008769958055, :y 0.0028252526097830594} {:x 5.9757367734884435, :y 0.0010416903976540196} {:x 7.730074502616906, :y 0.007114511697207778} {:x 4.7980863254317985, :y 1.0476270603795543E-4} {:x 3.405178424709199, :y 2.436417343031966E-6} {:x 7.672477502702494, :y 0.0068727530598244} {:x 7.25168013582013, :y 0.005034260143301706} {:x 5.157506991494719, :y 2.3009673927552638E-4} {:x 8.174936832382254, :y 0.008705528435932853} {:x 4.637154507781173, :y 7.18785400726343E-5} {:x 3.6033129428886825, :y 4.457502647123042E-6} {:x 4.364389752696465, :y 3.667021810471117E-5} {:x 4.905260569586264, :y 1.3351275490798459E-4} {:x 5.613428127315751, :y 5.601011682124633E-4} {:x 7.562588276644028, :y 0.006399607079821539} {:x 6.86810407790709, :y 0.0034642810453820263} {:x 5.697156571156224, :y 6.50871933366808E-4} {:x 7.173354097295057, :y 0.004696975538895645} {:x 5.826419680048644, :y 8.14162019681238E-4})}], :marks [{:type \"symbol\", :from {:data \"0a75870a-963d-454a-b349-c739e137f8b2\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"0a75870a-963d-454a-b349-c739e137f8b2\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"0a75870a-963d-454a-b349-c739e137f8b2\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}]}}"}
;; <=

;; **
;;; Using the same number of particles, we don't have such good results with importance sampling:
;; **

;; @@
(def num-particles 100)
(def is-states (take num-particles (infer :importance gaussian [[8 9]])))
(list-plot (vec (empirical-distribution (collect-results is-states))))
;; @@
